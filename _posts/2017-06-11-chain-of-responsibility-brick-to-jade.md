---
layout: post
title: "设计模式-责任链之抛砖引玉(未完)"
categories: Tech
tags: Tech
---

* content
{:toc}

![石油管道](/css/pics/2017-06-11-chains.jpg)

## 背景

最近遇到几处使用了责任链模式的地方，所以想总结一下。

## 讲个故事
上小学的时候，班里经常会有同学说，帮我给个纸条给那谁谁谁，比如坐第一排的白居易同学新写了一首诗，要传纸条给坐在第五排的刘禹锡同学炫耀一下，于是通过中间这一个个同学传递，便是一个典型的责任链模式;

另一个故事，在[《who build america》](https://movie.douban.com/subject/20277091/)纪录片中，石油大王Rockefeller为打破石油运输被铁路大亨Vanderbilt垄断的局面，出资修建布满全国的石油管道，这一节节的石油管道，也是一个典型的责任链模式；

由此可见，责任链模式在生活中处处可见；

## 是什么

责任链模式到底是什么？

* 不就是烤串么？
* 不就是水管么？
* 不就是链表么？
* ...

对，上边的这些比喻都没问题，问题的关键是学以致用；往往当我们在实际的业务中，遇到类似场景却不知道如何应用了；

## 有什么用

我们不用责任链模式有啥问题呢？用if else、for each信手拈来、照样实现业务逻辑、照样上线运行代码、照样拿工资，没准比那些使用责任链模式的人拿的薪资还高；

不错，如果将上边这句话中的责任链模式换成其它任意一种设计模式，都是说的通的，并且在一些使用函数式编辑语言的同学眼中、设计模式这东西根本就不应该存在，那我们还有必要用责任链模式么？

在我看来，使用责任链模式有一些好处：提升代码扩展性、更容易做到单一职责；当然，前提是得用对场景；

## 举例

对于广大程序猿来说，说一万遍理论不如直接上实例，下面我们就以几个经典开源项目为例，介绍下责任链这个模式，用最后附上一个我在实际业务开发中用到的场景；

### Unix

比如我在自己home目录下执行`ls | grep c | sort -r` 这个命令组合，即先通过`ls`命令查找home目录下的所有文件及文件夹，再通过`grep`命令查找到包含字母c的文件、文件夹名，再通过sort命令根据文件、文件夹名倒序排列；

```
> ls | grep c | sort -r
workspace
Public
Pictures
Music
Documents
CLionProjects
Applications
AndroidStudioProjects
```

在这个命令组合中，符号`|`起到了一个标准接口的作用，将其中的每个命令（`ls` `grep` `sort`）串连起来，而每个命令就是责任链中的一个节点，每个节点做好自己的一件事情，通过标准的接口将输出交给下一个节点直至结束；

### Servlet

### Tomcat

### Netty

### 实际业务系统中应用

## 总结

## 引用
